<!DOCTYPE html>
<html>
<head>
  <title>Item</title>
  <link rel="stylesheet" href="/css/styles.css">
  <!-- for tailwind -->
  <link rel="stylesheet" href="/css/output.css">
</head>
<body>
  <%- include('./partials/navbar') %>
  <h1>Anaesthetics</h1>

    <ul>
        <% medications.forEach((la) => { %>
            <li>
                <span>Name: <%= la.name %></span>
                <span>Maximum safe dosage(msd): <%= la.msd %></span>
                <span>Msd (children): <%= la.msd_for_children %></span>
                <span>concentration: <%= la.concentration %></span>

                <button onclick="editMedication('<%= la.id %>', '<%= la.name %>', '<%= la.mas %>', '<%= la.concentration %>')">Edit</button>
                <button onclick="deleteMedication('<%= la.id %>')">Delete</button>
            </li>
        <% }); %>
    </ul>

    <div class="flex flex-col">
      <div class="-m-1.5 overflow-x-auto">
        <div class="p-1.5 min-w-full inline-block align-middle">
          <div class="overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
              <caption class="py-2 text-start text-sm text-gray-600 dark:text-gray-500">List of medications</caption>
              <thead>
                <tr>
                  <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">Name</th>
                  <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">Maximum Safe Dosage (msd)</th>
                  <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">Msd (Children)</th>
                  <th scope="col" class="px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase">Concentration</th>
                  <th scope="col" class="px-6 py-3 text-end text-xs font-medium text-gray-500 uppercase">Action</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                <% medications.forEach((la) => { %>
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-black"><%= la.name %></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-black"><%= la.msd %></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-black"><%= la.msd_for_children %></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-black"><%= la.concentration %></td>
                    <td class="px-6 py-4 whitespace-nowrap text-end text-sm font-medium">
                      <button onclick="editMedication('<%= la.id %>', '<%= la.name %>', '<%= la.msd %>', '<%= la.concentration %>')" class="inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600">Edit</button>
                      <button onclick="deleteMedication('<%= la.id %>')" class="inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600">Delete</button>
                    </td>
                  </tr>
                <% }); %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <form id="addMedication" action="/add" method="POST" hidden>
      <input type="text" name="name" placeholder="name" id="la-name" required>
      <input type="number" step="0.01" name="msd" placeholder="Maximum safe dosage(mg)" id="msd" required>
      <input type="number" step="0.01" name="msd_for_children" placeholder="msd for children" id="msd_for_children"required>
      <input type="number" step="0.01" name="concentration" placeholder="concentration(%)" id="concentration" required>
      <button type="submit">Add Anaesthetic</button>
    </form>
  
    <button onclick="showForm()" id="newAnaestheticButton">Add Anaesthetic</button>



  <script src="./node_modules/preline/dist/preline.js"></script>
  <script src="/js/script.js"></script>
</body>
</html>